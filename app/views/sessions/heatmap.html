<h1>
  <%= @session.patient.name %>
</h1>

<div id="heatmapContainerWrapper">
    <div id="heatmapContainer">

  </div>
</div>
   <style>
      body, html { margin:0; padding:0; height:100%;}
      body { font-family:sans-serif; }
      body * { font-weight:200;}
      #heatmapContainerWrapper { width:400px; height:400px; position:absolute; }
      #heatmapContainer { width:100%; height:100%;}
     </style>


    <script>

      window.onload = function() {
        // create a heatmap instance
        var heatmap = h337.create({
          container: document.getElementById('heatmapContainer'),
          maxOpacity: .6,
          radius: 10,
          blur: .90,
          // backgroundColor with alpha so you can see through it
          backgroundColor: 'rgba(0, 0, 58, 0.96)'
        });
        var heatmapContainer = document.getElementById('heatmapContainerWrapper');

        <%- @session.rows.each_with_index do |r, i| %>
          <%= "heatmap.addData({ x: #{r[0]}, y: 400 - #{r[1]}, value: 1 });"    %>
        <%- end %>

      };
    </script>
